const ids = [];
const animations = {};
const framerate = 60;
const duration = 1900;
function animate(elements) {
    this.currentStep = 0;
    this.steps = duration / framerate;
    this.increment = 1 / this.steps;
    animateStep.apply(this, [elements]);
    animations[this.id] = setInterval(() => animateStep.apply(this, [elements]), 1000 / framerate);
}
function animateStep(elements) {
    this.currentStep++;
    if (this.currentStep > this.steps) {
        this.currentStep = 1;
    }
    for (let i = 0, len = 12; i < len; ++i) {
        elements[11 - i].style.opacity = this.increment * findStep.apply(this, [i]);
    }
}
function findStep(index) {
    let step = this.currentStep + (this.steps / 12 * index);
    if (step > this.steps) {
        step = -this.steps + step;
    }
    return this.steps - step;
}
export function startAnimation2(...elements) {
    let id = 0;
    if (ids.length) {
        id = ids[ids.length - 1] + 1;
    }
    ids.push(id);
    animate.apply({ id }, [elements]);
    return id;
}
export function stopAnimation(animation) {
    window.clearInterval(animations[animation]);
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHJvZ3Jlc3NDaXJjbGVBbmltYXRpb24yLmpzIiwic291cmNlUm9vdCI6Im5nOi8vbmd4LWRlc2t0b3AvIiwic291cmNlcyI6WyJsaWIvY29tcG9uZW50cy9wcm9ncmVzcy1jaXJjbGUvcHJvZ3Jlc3NDaXJjbGVBbmltYXRpb24yLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE1BQU0sR0FBRyxHQUFHLEVBQUUsQ0FBQztBQUNmLE1BQU0sVUFBVSxHQUFHLEVBQUUsQ0FBQztBQUV0QixNQUFNLFNBQVMsR0FBRyxFQUFFLENBQUM7QUFDckIsTUFBTSxRQUFRLEdBQUcsSUFBSSxDQUFDO0FBRXRCLFNBQVMsT0FBTyxDQUFDLFFBQVE7SUFDdkIsSUFBSSxDQUFDLFdBQVcsR0FBRyxDQUFDLENBQUM7SUFDckIsSUFBSSxDQUFDLEtBQUssR0FBRyxRQUFRLEdBQUcsU0FBUyxDQUFDO0lBQ2xDLElBQUksQ0FBQyxTQUFTLEdBQUcsQ0FBQyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUM7SUFDaEMsV0FBVyxDQUFDLEtBQUssQ0FBQyxJQUFJLEVBQUUsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDO0lBQ3BDLFVBQVUsQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLEdBQUcsV0FBVyxDQUFDLEdBQUcsRUFBRSxDQUFDLFdBQVcsQ0FBQyxLQUFLLENBQUMsSUFBSSxFQUFFLENBQUMsUUFBUSxDQUFDLENBQUMsRUFBRSxJQUFJLEdBQUcsU0FBUyxDQUFDLENBQUM7QUFDakcsQ0FBQztBQUVELFNBQVMsV0FBVyxDQUFDLFFBQVE7SUFDM0IsSUFBSSxDQUFDLFdBQVcsRUFBRSxDQUFDO0lBQ25CLElBQUksSUFBSSxDQUFDLFdBQVcsR0FBRyxJQUFJLENBQUMsS0FBSyxFQUFFO1FBQ2pDLElBQUksQ0FBQyxXQUFXLEdBQUcsQ0FBQyxDQUFDO0tBQ3RCO0lBRUQsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsR0FBRyxHQUFHLEVBQUUsRUFBRSxDQUFDLEdBQUcsR0FBRyxFQUFFLEVBQUUsQ0FBQyxFQUFFO1FBQ3RDLFFBQVEsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLE9BQU8sR0FBRyxJQUFJLENBQUMsU0FBUyxHQUFHLFFBQVEsQ0FBQyxLQUFLLENBQUMsSUFBSSxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztLQUM3RTtBQUNILENBQUM7QUFFRCxTQUFTLFFBQVEsQ0FBQyxLQUFLO0lBQ3JCLElBQUksSUFBSSxHQUFHLElBQUksQ0FBQyxXQUFXLEdBQUcsQ0FBQyxJQUFJLENBQUMsS0FBSyxHQUFHLEVBQUUsR0FBRyxLQUFLLENBQUMsQ0FBQztJQUN4RCxJQUFJLElBQUksR0FBRyxJQUFJLENBQUMsS0FBSyxFQUFFO1FBQ3JCLElBQUksR0FBRyxDQUFDLElBQUksQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDO0tBQzNCO0lBQ0QsT0FBTyxJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQztBQUMzQixDQUFDO0FBRUQsTUFBTSxVQUFVLGVBQWUsQ0FBQyxHQUFHLFFBQVE7SUFDekMsSUFBSSxFQUFFLEdBQUcsQ0FBQyxDQUFDO0lBQ1gsSUFBSSxHQUFHLENBQUMsTUFBTSxFQUFFO1FBQ2QsRUFBRSxHQUFHLEdBQUcsQ0FBQyxHQUFHLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQztLQUM5QjtJQUNELEdBQUcsQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUM7SUFDYixPQUFPLENBQUMsS0FBSyxDQUFDLEVBQUMsRUFBRSxFQUFDLEVBQUUsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDO0lBQ2hDLE9BQU8sRUFBRSxDQUFDO0FBQ1osQ0FBQztBQUVELE1BQU0sVUFBVSxhQUFhLENBQUMsU0FBUztJQUNyQyxNQUFNLENBQUMsYUFBYSxDQUFDLFVBQVUsQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDO0FBQzlDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBpZHMgPSBbXTtcclxuY29uc3QgYW5pbWF0aW9ucyA9IHt9O1xyXG5cclxuY29uc3QgZnJhbWVyYXRlID0gNjA7XHJcbmNvbnN0IGR1cmF0aW9uID0gMTkwMDtcclxuXHJcbmZ1bmN0aW9uIGFuaW1hdGUoZWxlbWVudHMpIHtcclxuICB0aGlzLmN1cnJlbnRTdGVwID0gMDtcclxuICB0aGlzLnN0ZXBzID0gZHVyYXRpb24gLyBmcmFtZXJhdGU7XHJcbiAgdGhpcy5pbmNyZW1lbnQgPSAxIC8gdGhpcy5zdGVwcztcclxuICBhbmltYXRlU3RlcC5hcHBseSh0aGlzLCBbZWxlbWVudHNdKTtcclxuICBhbmltYXRpb25zW3RoaXMuaWRdID0gc2V0SW50ZXJ2YWwoKCkgPT4gYW5pbWF0ZVN0ZXAuYXBwbHkodGhpcywgW2VsZW1lbnRzXSksIDEwMDAgLyBmcmFtZXJhdGUpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBhbmltYXRlU3RlcChlbGVtZW50cykge1xyXG4gIHRoaXMuY3VycmVudFN0ZXArKztcclxuICBpZiAodGhpcy5jdXJyZW50U3RlcCA+IHRoaXMuc3RlcHMpIHtcclxuICAgIHRoaXMuY3VycmVudFN0ZXAgPSAxO1xyXG4gIH1cclxuXHJcbiAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IDEyOyBpIDwgbGVuOyArK2kpIHtcclxuICAgIGVsZW1lbnRzWzExIC0gaV0uc3R5bGUub3BhY2l0eSA9IHRoaXMuaW5jcmVtZW50ICogZmluZFN0ZXAuYXBwbHkodGhpcywgW2ldKTtcclxuICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGZpbmRTdGVwKGluZGV4KSB7XHJcbiAgbGV0IHN0ZXAgPSB0aGlzLmN1cnJlbnRTdGVwICsgKHRoaXMuc3RlcHMgLyAxMiAqIGluZGV4KTtcclxuICBpZiAoc3RlcCA+IHRoaXMuc3RlcHMpIHtcclxuICAgIHN0ZXAgPSAtdGhpcy5zdGVwcyArIHN0ZXA7XHJcbiAgfVxyXG4gIHJldHVybiB0aGlzLnN0ZXBzIC0gc3RlcDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHN0YXJ0QW5pbWF0aW9uMiguLi5lbGVtZW50cykge1xyXG4gIGxldCBpZCA9IDA7XHJcbiAgaWYgKGlkcy5sZW5ndGgpIHtcclxuICAgIGlkID0gaWRzW2lkcy5sZW5ndGggLSAxXSArIDE7XHJcbiAgfVxyXG4gIGlkcy5wdXNoKGlkKTtcclxuICBhbmltYXRlLmFwcGx5KHtpZH0sIFtlbGVtZW50c10pO1xyXG4gIHJldHVybiBpZDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHN0b3BBbmltYXRpb24oYW5pbWF0aW9uKSB7XHJcbiAgd2luZG93LmNsZWFySW50ZXJ2YWwoYW5pbWF0aW9uc1thbmltYXRpb25dKTtcclxufVxyXG4iXX0=