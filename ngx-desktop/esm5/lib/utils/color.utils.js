var ColorUtils = /** @class */ (function () {
    function ColorUtils() {
    }
    ColorUtils.darkenColor = function (color, percent) {
        return ColorUtils.colorLuminance(ColorUtils.convertColor(color), -percent);
    };
    ColorUtils.colorLuminance = function (hex, lum) {
        // validate hex string
        hex = String(hex).replace(/[^0-9a-f]/gi, '');
        if (hex.length < 6) {
            hex = hex[0] + hex[0] + hex[1] + hex[1] + hex[2] + hex[2];
        }
        lum = lum || 0;
        // convert to decimal and change luminosity
        var rgb = '#', c, i;
        for (i = 0; i < 3; i++) {
            c = parseInt(hex.substr(i * 2, 2), 16);
            c = Math.round(Math.min(Math.max(0, c + (c * lum)), 255)).toString(16);
            rgb += ("00" + c).substr(c.length);
        }
        return rgb;
    };
    ColorUtils.isDarkColor = function (color) {
        var c = ColorUtils.convertColor(color).substring(1); // strip #
        var rgb = parseInt(c, 16); // convert rrggbb to decimal
        var r = (rgb >> 16) & 0xff; // extract red
        var g = (rgb >> 8) & 0xff; // extract green
        var b = (rgb >> 0) & 0xff; // extract blue
        var luma = 0.2126 * r + 0.7152 * g + 0.0722 * b; // per ITU-R BT.709
        return luma < 40;
    };
    ColorUtils.convertColor = function (color) {
        var colors = {
            'aliceblue': '#f0f8ff', 'antiquewhite': '#faebd7', 'aqua': '#00ffff', 'aquamarine': '#7fffd4', 'azure': '#f0ffff',
            'beige': '#f5f5dc', 'bisque': '#ffe4c4', 'black': '#000000', 'blanchedalmond': '#ffebcd', 'blue': '#0000ff', 'blueviolet': '#8a2be2', 'brown': '#a52a2a', 'burlywood': '#deb887',
            'cadetblue': '#5f9ea0', 'chartreuse': '#7fff00', 'chocolate': '#d2691e', 'coral': '#ff7f50', 'cornflowerblue': '#6495ed', 'cornsilk': '#fff8dc', 'crimson': '#dc143c', 'cyan': '#00ffff',
            'darkblue': '#00008b', 'darkcyan': '#008b8b', 'darkgoldenrod': '#b8860b', 'darkgray': '#a9a9a9', 'darkgreen': '#006400', 'darkkhaki': '#bdb76b', 'darkmagenta': '#8b008b', 'darkolivegreen': '#556b2f',
            'darkorange': '#ff8c00', 'darkorchid': '#9932cc', 'darkred': '#8b0000', 'darksalmon': '#e9967a', 'darkseagreen': '#8fbc8f', 'darkslateblue': '#483d8b', 'darkslategray': '#2f4f4f', 'darkturquoise': '#00ced1',
            'darkviolet': '#9400d3', 'deeppink': '#ff1493', 'deepskyblue': '#00bfff', 'dimgray': '#696969', 'dodgerblue': '#1e90ff',
            'firebrick': '#b22222', 'floralwhite': '#fffaf0', 'forestgreen': '#228b22', 'fuchsia': '#ff00ff',
            'gainsboro': '#dcdcdc', 'ghostwhite': '#f8f8ff', 'gold': '#ffd700', 'goldenrod': '#daa520', 'gray': '#808080', 'green': '#008000', 'greenyellow': '#adff2f',
            'honeydew': '#f0fff0', 'hotpink': '#ff69b4',
            'indianred ': '#cd5c5c', 'indigo': '#4b0082', 'ivory': '#fffff0', 'khaki': '#f0e68c',
            'lavender': '#e6e6fa', 'lavenderblush': '#fff0f5', 'lawngreen': '#7cfc00', 'lemonchiffon': '#fffacd', 'lightblue': '#add8e6', 'lightcoral': '#f08080', 'lightcyan': '#e0ffff', 'lightgoldenrodyellow': '#fafad2',
            'lightgrey': '#d3d3d3', 'lightgreen': '#90ee90', 'lightpink': '#ffb6c1', 'lightsalmon': '#ffa07a', 'lightseagreen': '#20b2aa', 'lightskyblue': '#87cefa', 'lightslategray': '#778899', 'lightsteelblue': '#b0c4de',
            'lightyellow': '#ffffe0', 'lime': '#00ff00', 'limegreen': '#32cd32', 'linen': '#faf0e6',
            'magenta': '#ff00ff', 'maroon': '#800000', 'mediumaquamarine': '#66cdaa', 'mediumblue': '#0000cd', 'mediumorchid': '#ba55d3', 'mediumpurple': '#9370d8', 'mediumseagreen': '#3cb371', 'mediumslateblue': '#7b68ee',
            'mediumspringgreen': '#00fa9a', 'mediumturquoise': '#48d1cc', 'mediumvioletred': '#c71585', 'midnightblue': '#191970', 'mintcream': '#f5fffa', 'mistyrose': '#ffe4e1', 'moccasin': '#ffe4b5',
            'navajowhite': '#ffdead', 'navy': '#000080',
            'oldlace': '#fdf5e6', 'olive': '#808000', 'olivedrab': '#6b8e23', 'orange': '#ffa500', 'orangered': '#ff4500', 'orchid': '#da70d6',
            'palegoldenrod': '#eee8aa', 'palegreen': '#98fb98', 'paleturquoise': '#afeeee', 'palevioletred': '#d87093', 'papayawhip': '#ffefd5', 'peachpuff': '#ffdab9', 'peru': '#cd853f', 'pink': '#ffc0cb', 'plum': '#dda0dd', 'powderblue': '#b0e0e6', 'purple': '#800080',
            'red': '#ff0000', 'rosybrown': '#bc8f8f', 'royalblue': '#4169e1',
            'saddlebrown': '#8b4513', 'salmon': '#fa8072', 'sandybrown': '#f4a460', 'seagreen': '#2e8b57', 'seashell': '#fff5ee', 'sienna': '#a0522d', 'silver': '#c0c0c0', 'skyblue': '#87ceeb', 'slateblue': '#6a5acd', 'slategray': '#708090', 'snow': '#fffafa', 'springgreen': '#00ff7f', 'steelblue': '#4682b4',
            'tan': '#d2b48c', 'teal': '#008080', 'thistle': '#d8bfd8', 'tomato': '#ff6347', 'turquoise': '#40e0d0',
            'violet': '#ee82ee',
            'wheat': '#f5deb3', 'white': '#ffffff', 'whitesmoke': '#f5f5f5',
            'yellow': '#ffff00', 'yellowgreen': '#9acd32'
        };
        if (typeof color === 'string' && typeof colors[color.toLowerCase()] != 'undefined') {
            return colors[color.toLowerCase()];
        }
        return color;
    };
    ColorUtils.ligthenColor = function (color) {
        return color;
    };
    ColorUtils.transparentize = function (color, amount) {
        var c = ColorUtils.hexToRgb(color);
        return "rgba(" + c.r + ", " + c.g + ", " + c.b + ", " + Math.round((1 - amount) * 1000) / 1000 + ")";
    };
    ColorUtils.hexToRgb = function (hex) {
        var result;
        if (hex.match(/^#.{3}$/)) {
            result = /^#?([a-f\d])([a-f\d])([a-f\d])$/i.exec(hex);
            result[1] += result[1];
            result[2] += result[2];
            result[3] += result[3];
        }
        else {
            result = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(hex);
        }
        return result ? {
            r: parseInt(result[1], 16),
            g: parseInt(result[2], 16),
            b: parseInt(result[3], 16)
        } : null;
    };
    return ColorUtils;
}());
export { ColorUtils };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29sb3IudXRpbHMuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9uZ3gtZGVza3RvcC8iLCJzb3VyY2VzIjpbImxpYi91dGlscy9jb2xvci51dGlscy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDQTtJQUFBO0lBNEZBLENBQUM7SUExRlEsc0JBQVcsR0FBbEIsVUFBbUIsS0FBSyxFQUFFLE9BQU87UUFDL0IsT0FBTyxVQUFVLENBQUMsY0FBYyxDQUFDLFVBQVUsQ0FBQyxZQUFZLENBQUMsS0FBSyxDQUFDLEVBQUUsQ0FBQyxPQUFPLENBQUMsQ0FBQztJQUM3RSxDQUFDO0lBRU0seUJBQWMsR0FBckIsVUFBc0IsR0FBRyxFQUFFLEdBQUc7UUFDNUIsc0JBQXNCO1FBQ3RCLEdBQUcsR0FBRyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUMsT0FBTyxDQUFDLGFBQWEsRUFBRSxFQUFFLENBQUMsQ0FBQztRQUM3QyxJQUFJLEdBQUcsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxFQUFFO1lBQ2xCLEdBQUcsR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQztTQUMzRDtRQUNELEdBQUcsR0FBRyxHQUFHLElBQUksQ0FBQyxDQUFDO1FBRWYsMkNBQTJDO1FBQzNDLElBQUksR0FBRyxHQUFHLEdBQUcsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBQ3BCLEtBQUssQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFO1lBQ3RCLENBQUMsR0FBRyxRQUFRLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDO1lBQ3ZDLENBQUMs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LEVBQUMsY0FBYyxFQUFDLFNBQVMsRUFBQyxXQUFXLEVBQUMsU0FBUyxFQUFDLFdBQVcsRUFBQyxTQUFTLEVBQUMsVUFBVSxFQUFDLFNBQVM7WUFDL0ssYUFBYSxFQUFDLFNBQVMsRUFBQyxNQUFNLEVBQUMsU0FBUztZQUN4QyxTQUFTLEVBQUMsU0FBUyxFQUFDLE9BQU8sRUFBQyxTQUFTLEVBQUMsV0FBVyxFQUFDLFNBQVMsRUFBQyxRQUFRLEVBQUMsU0FBUyxFQUFDLFdBQVcsRUFBQyxTQUFTLEVBQUMsUUFBUSxFQUFDLFNBQVM7WUFDdkgsZUFBZSxFQUFDLFNBQVMsRUFBQyxXQUFXLEVBQUMsU0FBUyxFQUFDLGVBQWUsRUFBQyxTQUFTLEVBQUMsZUFBZSxFQUFDLFNBQVMsRUFBQyxZQUFZLEVBQUMsU0FBUyxFQUFDLFdBQVcsRUFBQyxTQUFTLEVBQUMsTUFBTSxFQUFDLFNBQVMsRUFBQyxNQUFNLEVBQUMsU0FBUyxFQUFDLE1BQU0sRUFBQyxTQUFTLEVBQUMsWUFBWSxFQUFDLFNBQVMsRUFBQyxRQUFRLEVBQUMsU0FBUztZQUM3TyxLQUFLLEVBQUMsU0FBUyxFQUFDLFdBQVcsRUFBQyxTQUFTLEVBQUMsV0FBVyxFQUFDLFNBQVM7WUFDM0QsYUFBYSxFQUFDLFNBQVMsRUFBQyxRQUFRLEVBQUMsU0FBUyxFQUFDLFlBQVksRUFBQyxTQUFTLEVBQUMsVUFBVSxFQUFDLFNBQVMsRUFBQyxVQUFVLEVBQUMsU0FBUyxFQUFDLFFBQVEsRUFBQyxTQUFTLEVBQUMsUUFBUSxFQUFDLFNBQVMsRUFBQyxTQUFTLEVBQUMsU0FBUyxFQUFDLFdBQVcsRUFBQyxTQUFTLEVBQUMsV0FBVyxFQUFDLFNBQVMsRUFBQyxNQUFNLEVBQUMsU0FBUyxFQUFDLGFBQWEsRUFBQyxTQUFTLEVBQUMsV0FBVyxFQUFDLFNBQVM7WUFDaFIsS0FBSyxFQUFDLFNBQVMsRUFBQyxNQUFNLEVBQUMsU0FBUyxFQUFDLFNBQVMsRUFBQyxTQUFTLEVBQUMsUUFBUSxFQUFDLFNBQVMsRUFBQyxXQUFXLEVBQUMsU0FBUztZQUM3RixRQUFRLEVBQUMsU0FBUztZQUNsQixPQUFPLEVBQUMsU0FBUyxFQUFDLE9BQU8sRUFBQyxTQUFTLEVBQUMsWUFBWSxFQUFDLFNBQVM7WUFDMUQsUUFBUSxFQUFDLFNBQVMsRUFBQyxhQUFhLEVBQUMsU0FBUztTQUMzQyxDQUFDO1FBRUYsSUFBSSxPQUFPLEtBQUssS0FBSyxRQUFRLElBQUksT0FBTyxNQUFNLENBQUMsS0FBSyxDQUFDLFdBQVcsRUFBRSxDQUFDLElBQUksV0FBVyxFQUFFO1lBQ2xGLE9BQU8sTUFBTSxDQUFDLEtBQUssQ0FBQyxXQUFXLEVBQUUsQ0FBQyxDQUFDO1NBQ3BDO1FBQ0QsT0FBTyxLQUFLLENBQUM7SUFDZixDQUFDO0lBQ00sdUJBQVksR0FBbkIsVUFBb0IsS0FBSztRQUN2QixPQUFPLEtBQUssQ0FBQztJQUNmLENBQUM7SUFDTSx5QkFBYyxHQUFyQixVQUFzQixLQUFLLEVBQUUsTUFBTTtRQUNqQyxJQUFNLENBQUMsR0FBRyxVQUFVLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQ3JDLE9BQU8sVUFBUSxDQUFDLENBQUMsQ0FBQyxVQUFLLENBQUMsQ0FBQyxDQUFDLFVBQUssQ0FBQyxDQUFDLENBQUMsVUFBSyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxHQUFHLE1BQU0sQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLElBQUksTUFBRyxDQUFDO0lBQ25GLENBQUM7SUFDTSxtQkFBUSxHQUFmLFVBQWdCLEdBQUc7UUFDakIsSUFBSSxNQUFNLENBQUM7UUFDWCxJQUFJLEdBQUcsQ0FBQyxLQUFLLENBQUMsU0FBUyxDQUFDLEVBQUU7WUFDeEIsTUFBTSxHQUFHLGtDQUFrQyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQztZQUN0RCxNQUFNLENBQUMsQ0FBQyxDQUFDLElBQUksTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ3ZCLE1BQU0sQ0FBQyxDQUFDLENBQUMsSUFBSSxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDdkIsTUFBTSxDQUFDLENBQUMsQ0FBQyxJQUFJLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQztTQUN4QjthQUFNO1lBQ0wsTUFBTSxHQUFHLDJDQUEyQyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQztTQUNoRTtRQUNELE9BQU8sTUFBTSxDQUFDLENBQUMsQ0FBQztZQUNkLENBQUMsRUFBRSxRQUFRLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQztZQUMxQixDQUFDLEVBQUUsUUFBUSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUM7WUFDMUIsQ0FBQyxFQUFFLFFBQVEsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDO1NBQzNCLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQztJQUNYLENBQUM7SUFDSCxpQkFBQztBQUFELENBQUMsQUE1RkQsSUE0RkMiLCJzb3VyY2VzQ29udGVudCI6WyJcclxuZXhwb3J0IGNsYXNzIENvbG9yVXRpbHMge1xyXG5cclxuICBzdGF0aWMgZGFya2VuQ29sb3IoY29sb3IsIHBlcmNlbnQpIHtcclxuICAgIHJldHVybiBDb2xvclV0aWxzLmNvbG9yTHVtaW5hbmNlKENvbG9yVXRpbHMuY29udmVydENvbG9yKGNvbG9yKSwgLXBlcmNlbnQpO1xyXG4gIH1cclxuXHJcbiAgc3RhdGljIGNvbG9yTHVtaW5hbmNlKGhleCwgbHVtKSB7XHJcbiAgICAvLyB2YWxpZGF0ZSBoZXggc3RyaW5nXHJcbiAgICBoZXggPSBTdHJpbmcoaGV4KS5yZXBsYWNlKC9bXjAtOWEtZl0vZ2ksICcnKTtcclxuICAgIGlmIChoZXgubGVuZ3RoIDwgNikge1xyXG4gICAgICBoZXggPSBoZXhbMF0gKyBoZXhbMF0gKyBoZXhbMV0gKyBoZXhbMV0gKyBoZXhbMl0gKyBoZXhbMl07XHJcbiAgICB9XHJcbiAgICBsdW0gPSBsdW0gfHwgMDtcclxuXHJcbiAgICAvLyBjb252ZXJ0IHRvIGRlY2ltYWwgYW5kIGNoYW5nZSBsdW1pbm9zaXR5XHJcbiAgICB2YXIgcmdiID0gJyMnLCBjLCBpO1xyXG4gICAgZm9yIChpID0gMDsgaSA8IDM7IGkrKykge1xyXG4gICAgICBjID0gcGFyc2VJbnQoaGV4LnN1YnN0cihpICogMiwgMiksIDE2KTtcclxuICAgICAgYyA9IE1hdGgucm91bmQoTWF0aC5taW4oTWF0aC5tYXgoMCwgYyArIChjICogbHVtKSksIDI1NSkpLnRvU3RyaW5nKDE2KTtcclxuICAgICAgcmdiICs9IChgMDAke2N9YCkuc3Vic3RyKGMubGVuZ3RoKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gcmdiO1xyXG4gIH1cclxuXHJcbiAgc3RhdGljIGlzRGFya0NvbG9yKGNvbG9yKSB7XHJcbiAgICBjb25zdCBjID0gQ29sb3JVdGlscy5jb252ZXJ0Q29sb3IoY29sb3IpLnN1YnN0cmluZygxKTsgICAgICAvLyBzdHJpcCAjXHJcbiAgICBjb25zdCByZ2IgPSBwYXJzZUludChjLCAxNik7ICAgLy8gY29udmVydCBycmdnYmIgdG8gZGVjaW1hbFxyXG4gICAgY29uc3QgciA9IChyZ2IgPj4gMTYpICYgMHhmZjsgIC8vIGV4dHJhY3QgcmVkXHJcbiAgICBjb25zdCBnID0gKHJnYiA+PiA4KSAmIDB4ZmY7ICAvLyBleHRyYWN0IGdyZWVuXHJcbiAgICBjb25zdCBiID0gKHJnYiA+PiAwKSAmIDB4ZmY7ICAvLyBleHRyYWN0IGJsdWVcclxuXHJcbiAgICBjb25zdCBsdW1hID0gMC4yMTI2ICogciArIDAuNzE1MiAqIGcgKyAwLjA3MjIgKiBiOyAvLyBwZXIgSVRVLVIgQlQuNzA5XHJcblxyXG4gICAgcmV0dXJuIGx1bWEgPCA0MDtcclxuICB9XHJcbiAgc3RhdGljIGNvbnZlcnRDb2xvcihjb2xvcikge1xyXG4gICAgdmFyIGNvbG9ycyA9IHtcclxuICAgICAgJ2FsaWNlYmx1ZSc6JyNmMGY4ZmYnLCdhbnRpcXVld2hpdGUnOicjZmFlYmQ3JywnYXF1YSc6JyMwMGZmZmYnLCdhcXVhbWFyaW5lJzonIzdmZmZkNCcsJ2F6dXJlJzonI2YwZmZmZicsXHJcbiAgICAgICdiZWlnZSc6JyNmNWY1ZGMnLCdiaXNxdWUnOicjZmZlNGM0JywnYmxhY2snOicjMDAwMDAwJywnYmxhbmNoZWRhbG1vbmQnOicjZmZlYmNkJywnYmx1ZSc6JyMwMDAwZmYnLCdibHVldmlvbGV0JzonIzhhMmJlMicsJ2Jyb3duJzonI2E1MmEyYScsJ2J1cmx5d29vZCc6JyNkZWI4ODcnLFxyXG4gICAgICAnY2FkZXRibHVlJzonIzVmOWVhMCcsJ2NoYXJ0cmV1c2UnOicjN2ZmZjAwJywnY2hvY29sYXRlJzonI2QyNjkxZScsJ2NvcmFsJzonI2ZmN2Y1MCcsJ2Nvcm5mbG93ZXJibHVlJzonIzY0OTVlZCcsJ2Nvcm5zaWxrJzonI2ZmZjhkYycsJ2NyaW1zb24nOicjZGMxNDNjJywnY3lhbic6JyMwMGZmZmYnLFxyXG4gICAgICAnZGFya2JsdWUnOicjMDAwMDhiJywnZGFya2N5YW4nOicjMDA4YjhiJywnZGFya2dvbGRlbnJvZCc6JyNiODg2MGInLCdkYXJrZ3JheSc6JyNhOWE5YTknLCdkYXJrZ3JlZW4nOicjMDA2NDAwJywnZGFya2toYWtpJzonI2JkYjc2YicsJ2RhcmttYWdlbnRhJzonIzhiMDA4YicsJ2RhcmtvbGl2ZWdyZWVuJzonIzU1NmIyZicsXHJcbiAgICAgICdkYXJrb3JhbmdlJzonI2ZmOGMwMCcsJ2RhcmtvcmNoaWQnOicjOTkzMmNjJywnZGFya3JlZCc6JyM4YjAwMDAnLCdkYXJrc2FsbW9uJzonI2U5OTY3YScsJ2RhcmtzZWFncmVlbic6JyM4ZmJjOGYnLCdkYXJrc2xhdGVibHVlJzonIzQ4M2Q4YicsJ2RhcmtzbGF0ZWdyYXknOicjMmY0ZjRmJywnZGFya3R1cnF1b2lzZSc6JyMwMGNlZDEnLFxyXG4gICAgICAnZGFya3Zpb2xldCc6JyM5NDAwZDMnLCdkZWVwcGluayc6JyNmZjE0OTMnLCdkZWVwc2t5Ymx1ZSc6JyMwMGJmZmYnLCdkaW1ncmF5JzonIzY5Njk2OScsJ2RvZGdlcmJsdWUnOicjMWU5MGZmJyxcclxuICAgICAgJ2ZpcmVicmljayc6JyNiMjIyMjInLCdmbG9yYWx3aGl0ZSc6JyNmZmZhZjAnLCdmb3Jlc3RncmVlbic6JyMyMjhiMjInLCdmdWNoc2lhJzonI2ZmMDBmZicsXHJcbiAgICAgICdnYWluc2Jvcm8nOicjZGNkY2RjJywnZ2hvc3R3aGl0ZSc6JyNmOGY4ZmYnLCdnb2xkJzonI2ZmZDcwMCcsJ2dvbGRlbnJvZCc6JyNkYWE1MjAnLCdncmF5JzonIzgwODA4MCcsJ2dyZWVuJzonIzAwODAwMCcsJ2dyZWVueWVsbG93JzonI2FkZmYyZicsXHJcbiAgICAgICdob25leWRldyc6JyNmMGZmZjAnLCdob3RwaW5rJzonI2ZmNjliNCcsXHJcbiAgICAgICdpbmRpYW5yZWQgJzonI2NkNWM1YycsJ2luZGlnbyc6JyM0YjAwODInLCdpdm9yeSc6JyNmZmZmZjAnLCdraGFraSc6JyNmMGU2OGMnLFxyXG4gICAgICAnbGF2ZW5kZXInOicjZTZlNmZhJywnbGF2ZW5kZXJibHVzaCc6JyNmZmYwZjUnLCdsYXduZ3JlZW4nOicjN2NmYzAwJywnbGVtb25jaGlmZm9uJzonI2ZmZmFjZCcsJ2xpZ2h0Ymx1ZSc6JyNhZGQ4ZTYnLCdsaWdodGNvcmFsJzonI2YwODA4MCcsJ2xpZ2h0Y3lhbic6JyNlMGZmZmYnLCdsaWdodGdvbGRlbnJvZHllbGxvdyc6JyNmYWZhZDInLFxyXG4gICAgICAnbGlnaHRncmV5JzonI2QzZDNkMycsJ2xpZ2h0Z3JlZW4nOicjOTBlZTkwJywnbGlnaHRwaW5rJzonI2ZmYjZjMScsJ2xpZ2h0c2FsbW9uJzonI2ZmYTA3YScsJ2xpZ2h0c2VhZ3JlZW4nOicjMjBiMmFhJywnbGlnaHRza3libHVlJzonIzg3Y2VmYScsJ2xpZ2h0c2xhdGVncmF5JzonIzc3ODg5OScsJ2xpZ2h0c3RlZWxibHVlJzonI2IwYzRkZScsXHJcbiAgICAgICdsaWdodHllbGxvdyc6JyNmZmZmZTAnLCdsaW1lJzonIzAwZmYwMCcsJ2xpbWVncmVlbic6JyMzMmNkMzInLCdsaW5lbic6JyNmYWYwZTYnLFxyXG4gICAgICAnbWFnZW50YSc6JyNmZjAwZmYnLCdtYXJvb24nOicjODAwMDAwJywnbWVkaXVtYXF1YW1hcmluZSc6JyM2NmNkYWEnLCdtZWRpdW1ibHVlJzonIzAwMDBjZCcsJ21lZGl1bW9yY2hpZCc6JyNiYTU1ZDMnLCdtZWRpdW1wdXJwbGUnOicjOTM3MGQ4JywnbWVkaXVtc2VhZ3JlZW4nOicjM2NiMzcxJywnbWVkaXVtc2xhdGVibHVlJzonIzdiNjhlZScsXHJcbiAgICAgICdtZWRpdW1zcHJpbmdncmVlbic6JyMwMGZhOWEnLCdtZWRpdW10dXJxdW9pc2UnOicjNDhkMWNjJywnbWVkaXVtdmlvbGV0cmVkJzonI2M3MTU4NScsJ21pZG5pZ2h0Ymx1ZSc6JyMxOTE5NzAnLCdtaW50Y3JlYW0nOicjZjVmZmZhJywnbWlzdHlyb3NlJzonI2ZmZTRlMScsJ21vY2Nhc2luJzonI2ZmZTRiNScsXHJcbiAgICAgICduYXZham93aGl0ZSc6JyNmZmRlYWQnLCduYXZ5JzonIzAwMDA4MCcsXHJcbiAgICAgICdvbGRsYWNlJzonI2ZkZjVlNicsJ29saXZlJzonIzgwODAwMCcsJ29saXZlZHJhYic6JyM2YjhlMjMnLCdvcmFuZ2UnOicjZmZhNTAwJywnb3JhbmdlcmVkJzonI2ZmNDUwMCcsJ29yY2hpZCc6JyNkYTcwZDYnLFxyXG4gICAgICAncGFsZWdvbGRlbnJvZCc6JyNlZWU4YWEnLCdwYWxlZ3JlZW4nOicjOThmYjk4JywncGFsZXR1cnF1b2lzZSc6JyNhZmVlZWUnLCdwYWxldmlvbGV0cmVkJzonI2Q4NzA5MycsJ3BhcGF5YXdoaXAnOicjZmZlZmQ1JywncGVhY2hwdWZmJzonI2ZmZGFiOScsJ3BlcnUnOicjY2Q4NTNmJywncGluayc6JyNmZmMwY2InLCdwbHVtJzonI2RkYTBkZCcsJ3Bvd2RlcmJsdWUnOicjYjBlMGU2JywncHVycGxlJzonIzgwMDA4MCcsXHJcbiAgICAgICdyZWQnOicjZmYwMDAwJywncm9zeWJyb3duJzonI2JjOGY4ZicsJ3JveWFsYmx1ZSc6JyM0MTY5ZTEnLFxyXG4gICAgICAnc2FkZGxlYnJvd24nOicjOGI0NTEzJywnc2FsbW9uJzonI2ZhODA3MicsJ3NhbmR5YnJvd24nOicjZjRhNDYwJywnc2VhZ3JlZW4nOicjMmU4YjU3Jywnc2Vhc2hlbGwnOicjZmZmNWVlJywnc2llbm5hJzonI2EwNTIyZCcsJ3NpbHZlcic6JyNjMGMwYzAnLCdza3libHVlJzonIzg3Y2VlYicsJ3NsYXRlYmx1ZSc6JyM2YTVhY2QnLCdzbGF0ZWdyYXknOicjNzA4MDkwJywnc25vdyc6JyNmZmZhZmEnLCdzcHJpbmdncmVlbic6JyMwMGZmN2YnLCdzdGVlbGJsdWUnOicjNDY4MmI0JyxcclxuICAgICAgJ3Rhbic6JyNkMmI0OGMnLCd0ZWFsJzonIzAwODA4MCcsJ3RoaXN0bGUnOicjZDhiZmQ4JywndG9tYXRvJzonI2ZmNjM0NycsJ3R1cnF1b2lzZSc6JyM0MGUwZDAnLFxyXG4gICAgICAndmlvbGV0JzonI2VlODJlZScsXHJcbiAgICAgICd3aGVhdCc6JyNmNWRlYjMnLCd3aGl0ZSc6JyNmZmZmZmYnLCd3aGl0ZXNtb2tlJzonI2Y1ZjVmNScsXHJcbiAgICAgICd5ZWxsb3cnOicjZmZmZjAwJywneWVsbG93Z3JlZW4nOicjOWFjZDMyJ1xyXG4gICAgfTtcclxuXHJcbiAgICBpZiAodHlwZW9mIGNvbG9yID09PSAnc3RyaW5nJyAmJiB0eXBlb2YgY29sb3JzW2NvbG9yLnRvTG93ZXJDYXNlKCldICE9ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgIHJldHVybiBjb2xvcnNbY29sb3IudG9Mb3dlckNhc2UoKV07XHJcbiAgICB9XHJcbiAgICByZXR1cm4gY29sb3I7XHJcbiAgfVxyXG4gIHN0YXRpYyBsaWd0aGVuQ29sb3IoY29sb3IpIHtcclxuICAgIHJldHVybiBjb2xvcjtcclxuICB9XHJcbiAgc3RhdGljIHRyYW5zcGFyZW50aXplKGNvbG9yLCBhbW91bnQpIHtcclxuICAgIGNvbnN0IGMgPSBDb2xvclV0aWxzLmhleFRvUmdiKGNvbG9yKTtcclxuICAgIHJldHVybiBgcmdiYSgke2Mucn0sICR7Yy5nfSwgJHtjLmJ9LCAke01hdGgucm91bmQoKDEgLSBhbW91bnQpICogMTAwMCkgLyAxMDAwfSlgO1xyXG4gIH1cclxuICBzdGF0aWMgaGV4VG9SZ2IoaGV4KSB7XHJcbiAgICBsZXQgcmVzdWx0O1xyXG4gICAgaWYgKGhleC5tYXRjaCgvXiMuezN9JC8pKSB7XHJcbiAgICAgIHJlc3VsdCA9IC9eIz8oW2EtZlxcZF0pKFthLWZcXGRdKShbYS1mXFxkXSkkL2kuZXhlYyhoZXgpO1xyXG4gICAgICByZXN1bHRbMV0gKz0gcmVzdWx0WzFdO1xyXG4gICAgICByZXN1bHRbMl0gKz0gcmVzdWx0WzJdO1xyXG4gICAgICByZXN1bHRbM10gKz0gcmVzdWx0WzNdO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcmVzdWx0ID0gL14jPyhbYS1mXFxkXXsyfSkoW2EtZlxcZF17Mn0pKFthLWZcXGRdezJ9KSQvaS5leGVjKGhleCk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcmVzdWx0ID8ge1xyXG4gICAgICByOiBwYXJzZUludChyZXN1bHRbMV0sIDE2KSxcclxuICAgICAgZzogcGFyc2VJbnQocmVzdWx0WzJdLCAxNiksXHJcbiAgICAgIGI6IHBhcnNlSW50KHJlc3VsdFszXSwgMTYpXHJcbiAgICB9IDogbnVsbDtcclxuICB9XHJcbn1cclxuIl19